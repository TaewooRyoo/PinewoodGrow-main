@model PinewoodGrow.Models.Member

@{
	ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div>
	<h4>Member</h4>
	<hr />
	<dl class="row">
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.FirstName)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.FirstName)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.LastName)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.LastName)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Age)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Age)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Telephone)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Telephone)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Email)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Email)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.FamilySize)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.FamilySize)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Income)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Income)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Notes)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Notes)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.MemberDietaries)
		</dt>
		<dd class="col-sm-10">
			@{
				int condCount = Model.MemberDietaries.Count;
				if (condCount > 0)
				{
					string firstCond = Model.MemberDietaries.FirstOrDefault().Dietary.Name;
					if (condCount > 1)
					{
						string condList = firstCond;
						var c = Model.MemberDietaries.ToList();
						for (int i = 1; i < condCount; i++)
						{
							condList += ", " + c[i].Dietary.Name;
						}
						<a tabindex="0" class="" role="button" data-toggle="popover"
						   data-trigger="focus" title="Dietart Conditions" data-placement="bottom"
						   data-content="@condList">
							@firstCond... <span class="badge badge-info">@condCount</span>
						</a>
					}
					else
					{
						@firstCond
					}
				}
			}
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.MemberSituations)
		</dt>
		<dd class="col-sm-10">
			@{
				int sitCount = Model.MemberSituations.Count;
				if (sitCount > 0)
				{
					string firstSit = Model.MemberSituations.FirstOrDefault().Situation.Name;
					if (sitCount > 1)
					{
						string sitList = firstSit;
						var s = Model.MemberSituations.ToList();
						for (int i = 1; i < sitCount; i++)
						{
							sitList += ", " + s[i].Situation.Name;
						}
						<a tabindex="0" class="" role="button" data-toggle="popover"
						   data-trigger="focus" title="Situations" data-placement="bottom"
						   data-content="@sitList">
							@firstSit... <span class="badge badge-info">@sitCount</span>
						</a>
					}
					else
					{
						@firstSit
					}
				}
			}
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Consent)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Consent)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.CompletedBy)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.CompletedBy)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.CompletedOn)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.CompletedOn)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Household)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Household.ID)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Gender)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Gender.Name)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Address)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Address.City)
		</dd>
	</dl>
</div>
<div>
	<a asp-action="Edit" asp-route-id="@Model.ID">Edit</a> |
	<a asp-action="Index">Back to List</a>
</div>
@section Scripts {
	<script type="text/javascript">
        $(function () {
            $('[data-toggle="popover"]').popover();
        });
	</script>
}
